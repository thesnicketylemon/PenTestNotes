A DMZ (perimeter network) is a physical or logical subnetwork that contains and exposes an organizationâ€™s external-facing services to a larger untrusted network, usually the Internet.

### Difference between firewall and DMZ
Firewalls are network-level security devices, usually an appliance or an appliance in combination with network equipment. They are intended to provide a granular means of access control at a key point in a business network.

A DMZ is an area of a network that is separated from an internal network and an external network but is connected to both. It is intended to host systems that must be accessible to an external network but in different ways than the internal network. e.g. web servers, email servers and DNS servers.

### Features of DMZ
1. Hosts in the DMZ have tightly controlled access permissions to other services within the internal network, because the data passed through the DMZ is not as secure.
2. Communications between hosts in the DMZ and the external network are restricted to help increase the protected border zone.

### Risks of DMZ
1. Information on the systems could be corrupted. 
	1. To mitigate this, use secure protocols for the systems and have careful access control, authentication mechanisms and end-to-end encryption
2. Lateral movement into sensitive internal systems
	1. Systems on the DMZ must not be trusted
	2. DMZ access controls should not allow systems on the DMZ to make connections into the network
### Lateral Movement using a DMZ host
1. Look at other hosts in the DMZ that are communicating with it. Intercept transactions and see whether any of them are unencrypted or could be decoded. This might provide access to credentials needed for lateral movement into internal network.
2. Check if there are any rules in `ipconfig`or `ifconfig` preventing the DMZ host from talking to internal systems. If you have `sudo`, we could remove the rules and try accessing the internal systems from the host itself. If there's an external firewall with these rules, then we can't bypass it.
3. Check if any of these IPs listed in `ipconfig` can be accessed externally, perhaps there's a misconfiguration and we can access some port that's open to the internet.
4. Check if there are any ports that are open in the DMZ host and see what they are listening to. Try  `sudo lsof -i -P -n | grep LISTEN`.

### Recommended Architecture
Use two firewalls created by separate vendors to create a DMZ. The first firewall allows traffic for the DMZ only, and the second firewall allows traffic from the DMZ to the internal network.

#### Other architecture
Having one firewall between the DMZ and the internal network. External network can directly access the DMZ.